import { ChangeDetectorRef, EventEmitter, OnChanges, OnDestroy, OnInit, SimpleChanges } from '@angular/core';
import { ButtonEvent, ButtonsConfig } from '../../model/buttons-config.interface';
import { Image, ImageModalEvent } from '../../model/image.class';
import { Action } from '../../model/action.enum';
import { Description } from '../../model/description.interface';
import { KeyboardConfig } from '../../model/keyboard-config.interface';
import { LoadingConfig } from '../../model/loading-config.interface';
import { PreviewConfig } from '../../model/preview-config.interface';
import { SlideConfig } from '../../model/slide-config.interface';
import { AccessibilityConfig } from '../../model/accessibility.interface';
import { KeyboardService } from '../../services/keyboard.service';
import { GalleryService } from '../../services/gallery.service';
import { DotsConfig } from '../../model/dots-config.interface';
import { ImageLoadEvent } from '../current-image/current-image.component';
import { InternalLibImage } from '../../model/image-internal.class';
import { PlainGalleryConfig } from '../../model/plain-gallery-config.interface';
import { CurrentImageConfig } from '../../model/current-image-config.interface';
/**
 * Main Component of this library with both the plain and modal galleries.
 */
import * as ɵngcc0 from '@angular/core';
export declare class ModalGalleryComponent implements OnInit, OnDestroy, OnChanges {
    private keyboardService;
    private galleryService;
    private platformId;
    private changeDetectorRef;
    /**
     * Unique id (>=0) of the current instance of this library. This is useful when you are using
     * the service to call modal gallery without open it manually.
     * Right now is optional, but in upcoming major releases will be mandatory!!!
     */
    id: number | undefined;
    /**
     * Array of `Image` that represent the model of this library with all images, thumbs and so on.
     */
    modalImages: Image[];
    /**
     * Object of type `ButtonsConfig` to show/hide buttons.
     */
    buttonsConfig: ButtonsConfig;
    /**
     * Boolean to enable modal-gallery close behaviour when clicking
     * on the semi-transparent background. Enabled by default.
     */
    enableCloseOutside: boolean;
    /**
     * Interface to configure current image in modal-gallery.
     * For instance you can disable navigation on click on current image (enabled by default).
     */
    currentImageConfig: CurrentImageConfig;
    /**
     * Boolean required to enable image download with both ctrl+s/cmd+s and download button.
     * If you want to show enable button, this is not enough. You have to use also `buttonsConfig`.
     * TODO: this will be removed in version 6.0.0 because it will be into currentImageConfig
     */
    downloadable: boolean;
    /**
     * Object of type `LoadingConfig` that contains fields like enable/disable
     * and a way to choose a loading spinner.
     * TODO: this will be removed in version 6.0.0 because it will be into currentImageConfig
     */
    loadingConfig: LoadingConfig;
    /**
     * Object of type `Description` to configure and show image descriptions.
     * TODO: this will be removed in version 6.0.0 because it will be into currentImageConfig
     */
    description: Description;
    /**
     * Object of type `DotsConfig` to init DotsComponent's features.
     * For instance, it contains a param to show/hide dots.
     */
    dotsConfig: DotsConfig;
    /**
     * Object of type `PreviewConfig` to init PreviewsComponent's features.
     * For instance, it contains a param to show/hide previews.
     */
    previewConfig: PreviewConfig;
    /**
     * Object of type `SlideConfig` to init side previews and `infinite sliding`.
     */
    slideConfig: SlideConfig;
    /**
     * Object of type `AccessibilityConfig` to init custom accessibility features.
     * For instance, it contains titles, alt texts, aria-labels and so on.
     */
    accessibilityConfig: AccessibilityConfig;
    /**
     * Object of type `KeyboardConfig` to assign custom keys to ESC, RIGHT and LEFT keyboard's actions.
     */
    keyboardConfig: KeyboardConfig;
    /**
     * Object of type `PlainGalleryConfig` to configure the plain gallery.
     */
    plainGalleryConfig: PlainGalleryConfig;
    /**
     * Output to emit an event when the modal gallery is closed.
     */
    close: EventEmitter<ImageModalEvent>;
    /**
     * Output to emit an event when an image is changed.
     */
    show: EventEmitter<ImageModalEvent>;
    /**
     * Output to emit an event when the current image is the first one.
     */
    firstImage: EventEmitter<ImageModalEvent>;
    /**
     * Output to emit an event when the current image is the last one.
     */
    lastImage: EventEmitter<ImageModalEvent>;
    /**
     * Output to emit an event when the modal gallery is closed.
     */
    hasData: EventEmitter<ImageModalEvent>;
    /**
     * Output to emit an event when a button is clicked, but before that the action is triggered.
     */
    buttonBeforeHook: EventEmitter<ButtonEvent>;
    /**
     * Output to emit an event when a button is clicked, but after that the action is triggered.
     */
    buttonAfterHook: EventEmitter<ButtonEvent>;
    /**
     * Reference to the CurrentImageComponent to invoke methods on it.
     */
    currentImageComponent: any;
    /**
     * Boolean that it is true if the modal gallery is visible. False by default.
     */
    opened: boolean;
    /**
     * Boolean to open the modal gallery. False by default.
     */
    showGallery: boolean;
    /**
     * Array of `InternalLibImage` representing the model of this library with all images, thumbs and so on.
     */
    images: InternalLibImage[];
    /**
     * `Image` that is visible right now.
     */
    currentImage: InternalLibImage;
    private galleryServiceSubscription;
    /**
     * Constructor with the injection of ´KeyboardService´ and an object to support Server-Side Rendering.
     */
    constructor(keyboardService: KeyboardService, galleryService: GalleryService, platformId: Object, changeDetectorRef: ChangeDetectorRef);
    /**
     * Method ´ngOnInit´ to init images calling `initImages()`.
     * This is an Angular's lifecycle hook, so its called automatically by Angular itself.
     * In particular, it's called only one time!!!
     */
    ngOnInit(): void;
    /**
     * Method ´ngOnChanges´ to re-init images if input is changed.
     * This is an Angular's lifecycle hook, so its called automatically by Angular itself.
     * In particular, it's called before `ngOnInit()` and whenever one or more data-bound input properties change.
     * @param changes `SimpleChanges` object of current and previous property values provided by Angular.
     */
    ngOnChanges(changes: SimpleChanges): void;
    /**
     * Method called by custom upper buttons.
     * @param {ButtonEvent} event payload
     */
    onCustomEmit(event: ButtonEvent): void;
    /**
     * Method called by the delete upper button.
     * @param {ButtonEvent} event payload
     */
    onDelete(event: ButtonEvent): void;
    /**
     * Method called by the navigate upper button.
     * @param {ButtonEvent} event payload
     */
    onNavigate(event: ButtonEvent): void;
    /**
     * Method called by the download upper button.
     * @param {ButtonEvent} event payload
     */
    onDownload(event: ButtonEvent): void;
    /**
     * Method called by the close upper button.
     * @param {ButtonEvent} event payload
     * @param {Action} action that triggered the close method. `Action.NORMAL` by default
     */
    onCloseGallery(event: ButtonEvent, action?: Action): void;
    /**
     * Method to close the modal gallery specifying the action.
     * It also reset the `keyboardService` to prevent multiple listeners.
     * @param {Action} action type. `Action.NORMAL` by default
     */
    closeGallery(action?: Action): void;
    /**
     * Method called when you click on an image of your plain (or inline) gallery.
     * @param {number} index of the clicked image
     */
    onShowModalGallery(index: number): void;
    /**
     * Method to show the modal gallery displaying the image with
     * the index specified as input parameter.
     * It will also register a new `keyboardService` to catch keyboard's events to download the current
     * image with keyboard's shortcuts. This service, will be removed either when modal gallery component
     * will be destroyed or when the gallery is closed invoking the `closeGallery` method.
     * @param {number} index of the image to show
     * @param {boolean} isCalledByService is true if called by gallery.service, otherwise false
     */
    showModalGallery(index: number, isCalledByService?: boolean): void;
    /**
     * Method called when the image changes and used to update the `currentImage` object.
     * @param {ImageModalEvent} event payload
     */
    onChangeCurrentImage(event: ImageModalEvent): void;
    isPlainGalleryVisible(): boolean;
    /**
     * Method called when you click 'outside' (i.e. on the semi-transparent background)
     * to close the modal gallery if `enableCloseOutside` is true.
     * @param {boolean} event payload. True to close the modal gallery, false otherwise
     */
    onClickOutside(event: boolean): void;
    /**
     * Method called when an image is loaded and the loading spinner has gone.
     * It sets the previouslyLoaded flag inside the Image to hide loading spinner when displayed again.
     * @param {ImageLoadEvent} event payload
     */
    onImageLoad(event: ImageLoadEvent): void;
    /**
     * Method called when a dot is clicked and used to update the current image.
     * @param {number} index of the clicked dot
     */
    onClickDot(index: number): void;
    /**
     * Method called when an image preview is clicked and used to update the current image.
     * @param {Image} preview image
     */
    onClickPreview(preview: Image): void;
    /**
     * Method to download the current image, only if `downloadable` is true.
     * It contains also a logic to enable downloading features also for IE11.
     */
    downloadImage(): void;
    /**
     * Method to cleanup resources. In fact, this will reset keyboard's service.
     * This is an Angular's lifecycle hook that is called when this component is destroyed.
     */
    ngOnDestroy(): void;
    /**
     * Private method to download the current image for all browsers except for IE11.
     */
    private downloadImageAllBrowsers();
    /**
     * Private method to download the current image only for IE11 using
     * custom javascript's methods available only on IE.
     */
    private downloadImageOnlyIEorEdge();
    /**
     * Private method to get the `ButtonEvent` to emit, merging the input `ButtonEvent`
     * with the current image.
     * @param {ButtonEvent} event payload to return
     * @returns {ButtonEvent} event payload with the current image included
     */
    private getButtonEventToEmit(event);
    /**
     * Private method to get the filename from an input path.
     * This is used to get the image's name from its path.
     * @param {string} path that represents the path of the image
     * @returns {string} string filename from the input path
     */
    private getFileName(path);
    /**
     * Private method to initialize `images` as array of `Image`s.
     * Also, it will emit ImageowmodaModalEvent to say that images are loaded.
     */
    private initImages();
    /**
     * Private method to emit events when either the last or the first image are visible.
     * @param action Enum of type Action that represents the source of the event that changed the
     *  current image to the first one or the last one.
     * @param indexToCheck is the index number of the image (the first or the last one).
     */
    private emitBoundaryEvent(action, indexToCheck);
    /**
     * Private method to check if this library is running on
     * Microsoft browsers or not (i.e. it detects both IE11 and Edge)
     * supporting also Server-Side Rendering.
     * Inspired by https://msdn.microsoft.com/it-it/library/hh779016(v=vs.85).aspx
     * @returns {any} the result
     */
    private isIEorEdge();
    static ɵfac: ɵngcc0.ɵɵFactoryDef<ModalGalleryComponent, never>;
    static ɵcmp: ɵngcc0.ɵɵComponentDefWithMeta<ModalGalleryComponent, "ks-modal-gallery", ["ksModalGallery"], { "enableCloseOutside": "enableCloseOutside"; "downloadable": "downloadable"; "slideConfig": "slideConfig"; "accessibilityConfig": "accessibilityConfig"; "id": "id"; "modalImages": "modalImages"; "buttonsConfig": "buttonsConfig"; "currentImageConfig": "currentImageConfig"; "loadingConfig": "loadingConfig"; "description": "description"; "dotsConfig": "dotsConfig"; "previewConfig": "previewConfig"; "keyboardConfig": "keyboardConfig"; "plainGalleryConfig": "plainGalleryConfig"; }, { "close": "close"; "show": "show"; "firstImage": "firstImage"; "lastImage": "lastImage"; "hasData": "hasData"; "buttonBeforeHook": "buttonBeforeHook"; "buttonAfterHook": "buttonAfterHook"; }, never, never>;
}

//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibW9kYWwtZ2FsbGVyeS5jb21wb25lbnQuZC50cyIsInNvdXJjZXMiOlsibW9kYWwtZ2FsbGVyeS5jb21wb25lbnQuZC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBQ0EiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDaGFuZ2VEZXRlY3RvclJlZiwgRXZlbnRFbWl0dGVyLCBPbkNoYW5nZXMsIE9uRGVzdHJveSwgT25Jbml0LCBTaW1wbGVDaGFuZ2VzIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBCdXR0b25FdmVudCwgQnV0dG9uc0NvbmZpZyB9IGZyb20gJy4uLy4uL21vZGVsL2J1dHRvbnMtY29uZmlnLmludGVyZmFjZSc7XG5pbXBvcnQgeyBJbWFnZSwgSW1hZ2VNb2RhbEV2ZW50IH0gZnJvbSAnLi4vLi4vbW9kZWwvaW1hZ2UuY2xhc3MnO1xuaW1wb3J0IHsgQWN0aW9uIH0gZnJvbSAnLi4vLi4vbW9kZWwvYWN0aW9uLmVudW0nO1xuaW1wb3J0IHsgRGVzY3JpcHRpb24gfSBmcm9tICcuLi8uLi9tb2RlbC9kZXNjcmlwdGlvbi5pbnRlcmZhY2UnO1xuaW1wb3J0IHsgS2V5Ym9hcmRDb25maWcgfSBmcm9tICcuLi8uLi9tb2RlbC9rZXlib2FyZC1jb25maWcuaW50ZXJmYWNlJztcbmltcG9ydCB7IExvYWRpbmdDb25maWcgfSBmcm9tICcuLi8uLi9tb2RlbC9sb2FkaW5nLWNvbmZpZy5pbnRlcmZhY2UnO1xuaW1wb3J0IHsgUHJldmlld0NvbmZpZyB9IGZyb20gJy4uLy4uL21vZGVsL3ByZXZpZXctY29uZmlnLmludGVyZmFjZSc7XG5pbXBvcnQgeyBTbGlkZUNvbmZpZyB9IGZyb20gJy4uLy4uL21vZGVsL3NsaWRlLWNvbmZpZy5pbnRlcmZhY2UnO1xuaW1wb3J0IHsgQWNjZXNzaWJpbGl0eUNvbmZpZyB9IGZyb20gJy4uLy4uL21vZGVsL2FjY2Vzc2liaWxpdHkuaW50ZXJmYWNlJztcbmltcG9ydCB7IEtleWJvYXJkU2VydmljZSB9IGZyb20gJy4uLy4uL3NlcnZpY2VzL2tleWJvYXJkLnNlcnZpY2UnO1xuaW1wb3J0IHsgR2FsbGVyeVNlcnZpY2UgfSBmcm9tICcuLi8uLi9zZXJ2aWNlcy9nYWxsZXJ5LnNlcnZpY2UnO1xuaW1wb3J0IHsgRG90c0NvbmZpZyB9IGZyb20gJy4uLy4uL21vZGVsL2RvdHMtY29uZmlnLmludGVyZmFjZSc7XG5pbXBvcnQgeyBJbWFnZUxvYWRFdmVudCB9IGZyb20gJy4uL2N1cnJlbnQtaW1hZ2UvY3VycmVudC1pbWFnZS5jb21wb25lbnQnO1xuaW1wb3J0IHsgSW50ZXJuYWxMaWJJbWFnZSB9IGZyb20gJy4uLy4uL21vZGVsL2ltYWdlLWludGVybmFsLmNsYXNzJztcbmltcG9ydCB7IFBsYWluR2FsbGVyeUNvbmZpZyB9IGZyb20gJy4uLy4uL21vZGVsL3BsYWluLWdhbGxlcnktY29uZmlnLmludGVyZmFjZSc7XG5pbXBvcnQgeyBDdXJyZW50SW1hZ2VDb25maWcgfSBmcm9tICcuLi8uLi9tb2RlbC9jdXJyZW50LWltYWdlLWNvbmZpZy5pbnRlcmZhY2UnO1xuLyoqXG4gKiBNYWluIENvbXBvbmVudCBvZiB0aGlzIGxpYnJhcnkgd2l0aCBib3RoIHRoZSBwbGFpbiBhbmQgbW9kYWwgZ2FsbGVyaWVzLlxuICovXG5leHBvcnQgZGVjbGFyZSBjbGFzcyBNb2RhbEdhbGxlcnlDb21wb25lbnQgaW1wbGVtZW50cyBPbkluaXQsIE9uRGVzdHJveSwgT25DaGFuZ2VzIHtcbiAgICBwcml2YXRlIGtleWJvYXJkU2VydmljZTtcbiAgICBwcml2YXRlIGdhbGxlcnlTZXJ2aWNlO1xuICAgIHByaXZhdGUgcGxhdGZvcm1JZDtcbiAgICBwcml2YXRlIGNoYW5nZURldGVjdG9yUmVmO1xuICAgIC8qKlxuICAgICAqIFVuaXF1ZSBpZCAoPj0wKSBvZiB0aGUgY3VycmVudCBpbnN0YW5jZSBvZiB0aGlzIGxpYnJhcnkuIFRoaXMgaXMgdXNlZnVsIHdoZW4geW91IGFyZSB1c2luZ1xuICAgICAqIHRoZSBzZXJ2aWNlIHRvIGNhbGwgbW9kYWwgZ2FsbGVyeSB3aXRob3V0IG9wZW4gaXQgbWFudWFsbHkuXG4gICAgICogUmlnaHQgbm93IGlzIG9wdGlvbmFsLCBidXQgaW4gdXBjb21pbmcgbWFqb3IgcmVsZWFzZXMgd2lsbCBiZSBtYW5kYXRvcnkhISFcbiAgICAgKi9cbiAgICBpZDogbnVtYmVyIHwgdW5kZWZpbmVkO1xuICAgIC8qKlxuICAgICAqIEFycmF5IG9mIGBJbWFnZWAgdGhhdCByZXByZXNlbnQgdGhlIG1vZGVsIG9mIHRoaXMgbGlicmFyeSB3aXRoIGFsbCBpbWFnZXMsIHRodW1icyBhbmQgc28gb24uXG4gICAgICovXG4gICAgbW9kYWxJbWFnZXM6IEltYWdlW107XG4gICAgLyoqXG4gICAgICogT2JqZWN0IG9mIHR5cGUgYEJ1dHRvbnNDb25maWdgIHRvIHNob3cvaGlkZSBidXR0b25zLlxuICAgICAqL1xuICAgIGJ1dHRvbnNDb25maWc6IEJ1dHRvbnNDb25maWc7XG4gICAgLyoqXG4gICAgICogQm9vbGVhbiB0byBlbmFibGUgbW9kYWwtZ2FsbGVyeSBjbG9zZSBiZWhhdmlvdXIgd2hlbiBjbGlja2luZ1xuICAgICAqIG9uIHRoZSBzZW1pLXRyYW5zcGFyZW50IGJhY2tncm91bmQuIEVuYWJsZWQgYnkgZGVmYXVsdC5cbiAgICAgKi9cbiAgICBlbmFibGVDbG9zZU91dHNpZGU6IGJvb2xlYW47XG4gICAgLyoqXG4gICAgICogSW50ZXJmYWNlIHRvIGNvbmZpZ3VyZSBjdXJyZW50IGltYWdlIGluIG1vZGFsLWdhbGxlcnkuXG4gICAgICogRm9yIGluc3RhbmNlIHlvdSBjYW4gZGlzYWJsZSBuYXZpZ2F0aW9uIG9uIGNsaWNrIG9uIGN1cnJlbnQgaW1hZ2UgKGVuYWJsZWQgYnkgZGVmYXVsdCkuXG4gICAgICovXG4gICAgY3VycmVudEltYWdlQ29uZmlnOiBDdXJyZW50SW1hZ2VDb25maWc7XG4gICAgLyoqXG4gICAgICogQm9vbGVhbiByZXF1aXJlZCB0byBlbmFibGUgaW1hZ2UgZG93bmxvYWQgd2l0aCBib3RoIGN0cmwrcy9jbWQrcyBhbmQgZG93bmxvYWQgYnV0dG9uLlxuICAgICAqIElmIHlvdSB3YW50IHRvIHNob3cgZW5hYmxlIGJ1dHRvbiwgdGhpcyBpcyBub3QgZW5vdWdoLiBZb3UgaGF2ZSB0byB1c2UgYWxzbyBgYnV0dG9uc0NvbmZpZ2AuXG4gICAgICogVE9ETzogdGhpcyB3aWxsIGJlIHJlbW92ZWQgaW4gdmVyc2lvbiA2LjAuMCBiZWNhdXNlIGl0IHdpbGwgYmUgaW50byBjdXJyZW50SW1hZ2VDb25maWdcbiAgICAgKi9cbiAgICBkb3dubG9hZGFibGU6IGJvb2xlYW47XG4gICAgLyoqXG4gICAgICogT2JqZWN0IG9mIHR5cGUgYExvYWRpbmdDb25maWdgIHRoYXQgY29udGFpbnMgZmllbGRzIGxpa2UgZW5hYmxlL2Rpc2FibGVcbiAgICAgKiBhbmQgYSB3YXkgdG8gY2hvb3NlIGEgbG9hZGluZyBzcGlubmVyLlxuICAgICAqIFRPRE86IHRoaXMgd2lsbCBiZSByZW1vdmVkIGluIHZlcnNpb24gNi4wLjAgYmVjYXVzZSBpdCB3aWxsIGJlIGludG8gY3VycmVudEltYWdlQ29uZmlnXG4gICAgICovXG4gICAgbG9hZGluZ0NvbmZpZzogTG9hZGluZ0NvbmZpZztcbiAgICAvKipcbiAgICAgKiBPYmplY3Qgb2YgdHlwZSBgRGVzY3JpcHRpb25gIHRvIGNvbmZpZ3VyZSBhbmQgc2hvdyBpbWFnZSBkZXNjcmlwdGlvbnMuXG4gICAgICogVE9ETzogdGhpcyB3aWxsIGJlIHJlbW92ZWQgaW4gdmVyc2lvbiA2LjAuMCBiZWNhdXNlIGl0IHdpbGwgYmUgaW50byBjdXJyZW50SW1hZ2VDb25maWdcbiAgICAgKi9cbiAgICBkZXNjcmlwdGlvbjogRGVzY3JpcHRpb247XG4gICAgLyoqXG4gICAgICogT2JqZWN0IG9mIHR5cGUgYERvdHNDb25maWdgIHRvIGluaXQgRG90c0NvbXBvbmVudCdzIGZlYXR1cmVzLlxuICAgICAqIEZvciBpbnN0YW5jZSwgaXQgY29udGFpbnMgYSBwYXJhbSB0byBzaG93L2hpZGUgZG90cy5cbiAgICAgKi9cbiAgICBkb3RzQ29uZmlnOiBEb3RzQ29uZmlnO1xuICAgIC8qKlxuICAgICAqIE9iamVjdCBvZiB0eXBlIGBQcmV2aWV3Q29uZmlnYCB0byBpbml0IFByZXZpZXdzQ29tcG9uZW50J3MgZmVhdHVyZXMuXG4gICAgICogRm9yIGluc3RhbmNlLCBpdCBjb250YWlucyBhIHBhcmFtIHRvIHNob3cvaGlkZSBwcmV2aWV3cy5cbiAgICAgKi9cbiAgICBwcmV2aWV3Q29uZmlnOiBQcmV2aWV3Q29uZmlnO1xuICAgIC8qKlxuICAgICAqIE9iamVjdCBvZiB0eXBlIGBTbGlkZUNvbmZpZ2AgdG8gaW5pdCBzaWRlIHByZXZpZXdzIGFuZCBgaW5maW5pdGUgc2xpZGluZ2AuXG4gICAgICovXG4gICAgc2xpZGVDb25maWc6IFNsaWRlQ29uZmlnO1xuICAgIC8qKlxuICAgICAqIE9iamVjdCBvZiB0eXBlIGBBY2Nlc3NpYmlsaXR5Q29uZmlnYCB0byBpbml0IGN1c3RvbSBhY2Nlc3NpYmlsaXR5IGZlYXR1cmVzLlxuICAgICAqIEZvciBpbnN0YW5jZSwgaXQgY29udGFpbnMgdGl0bGVzLCBhbHQgdGV4dHMsIGFyaWEtbGFiZWxzIGFuZCBzbyBvbi5cbiAgICAgKi9cbiAgICBhY2Nlc3NpYmlsaXR5Q29uZmlnOiBBY2Nlc3NpYmlsaXR5Q29uZmlnO1xuICAgIC8qKlxuICAgICAqIE9iamVjdCBvZiB0eXBlIGBLZXlib2FyZENvbmZpZ2AgdG8gYXNzaWduIGN1c3RvbSBrZXlzIHRvIEVTQywgUklHSFQgYW5kIExFRlQga2V5Ym9hcmQncyBhY3Rpb25zLlxuICAgICAqL1xuICAgIGtleWJvYXJkQ29uZmlnOiBLZXlib2FyZENvbmZpZztcbiAgICAvKipcbiAgICAgKiBPYmplY3Qgb2YgdHlwZSBgUGxhaW5HYWxsZXJ5Q29uZmlnYCB0byBjb25maWd1cmUgdGhlIHBsYWluIGdhbGxlcnkuXG4gICAgICovXG4gICAgcGxhaW5HYWxsZXJ5Q29uZmlnOiBQbGFpbkdhbGxlcnlDb25maWc7XG4gICAgLyoqXG4gICAgICogT3V0cHV0IHRvIGVtaXQgYW4gZXZlbnQgd2hlbiB0aGUgbW9kYWwgZ2FsbGVyeSBpcyBjbG9zZWQuXG4gICAgICovXG4gICAgY2xvc2U6IEV2ZW50RW1pdHRlcjxJbWFnZU1vZGFsRXZlbnQ+O1xuICAgIC8qKlxuICAgICAqIE91dHB1dCB0byBlbWl0IGFuIGV2ZW50IHdoZW4gYW4gaW1hZ2UgaXMgY2hhbmdlZC5cbiAgICAgKi9cbiAgICBzaG93OiBFdmVudEVtaXR0ZXI8SW1hZ2VNb2RhbEV2ZW50PjtcbiAgICAvKipcbiAgICAgKiBPdXRwdXQgdG8gZW1pdCBhbiBldmVudCB3aGVuIHRoZSBjdXJyZW50IGltYWdlIGlzIHRoZSBmaXJzdCBvbmUuXG4gICAgICovXG4gICAgZmlyc3RJbWFnZTogRXZlbnRFbWl0dGVyPEltYWdlTW9kYWxFdmVudD47XG4gICAgLyoqXG4gICAgICogT3V0cHV0IHRvIGVtaXQgYW4gZXZlbnQgd2hlbiB0aGUgY3VycmVudCBpbWFnZSBpcyB0aGUgbGFzdCBvbmUuXG4gICAgICovXG4gICAgbGFzdEltYWdlOiBFdmVudEVtaXR0ZXI8SW1hZ2VNb2RhbEV2ZW50PjtcbiAgICAvKipcbiAgICAgKiBPdXRwdXQgdG8gZW1pdCBhbiBldmVudCB3aGVuIHRoZSBtb2RhbCBnYWxsZXJ5IGlzIGNsb3NlZC5cbiAgICAgKi9cbiAgICBoYXNEYXRhOiBFdmVudEVtaXR0ZXI8SW1hZ2VNb2RhbEV2ZW50PjtcbiAgICAvKipcbiAgICAgKiBPdXRwdXQgdG8gZW1pdCBhbiBldmVudCB3aGVuIGEgYnV0dG9uIGlzIGNsaWNrZWQsIGJ1dCBiZWZvcmUgdGhhdCB0aGUgYWN0aW9uIGlzIHRyaWdnZXJlZC5cbiAgICAgKi9cbiAgICBidXR0b25CZWZvcmVIb29rOiBFdmVudEVtaXR0ZXI8QnV0dG9uRXZlbnQ+O1xuICAgIC8qKlxuICAgICAqIE91dHB1dCB0byBlbWl0IGFuIGV2ZW50IHdoZW4gYSBidXR0b24gaXMgY2xpY2tlZCwgYnV0IGFmdGVyIHRoYXQgdGhlIGFjdGlvbiBpcyB0cmlnZ2VyZWQuXG4gICAgICovXG4gICAgYnV0dG9uQWZ0ZXJIb29rOiBFdmVudEVtaXR0ZXI8QnV0dG9uRXZlbnQ+O1xuICAgIC8qKlxuICAgICAqIFJlZmVyZW5jZSB0byB0aGUgQ3VycmVudEltYWdlQ29tcG9uZW50IHRvIGludm9rZSBtZXRob2RzIG9uIGl0LlxuICAgICAqL1xuICAgIGN1cnJlbnRJbWFnZUNvbXBvbmVudDogYW55O1xuICAgIC8qKlxuICAgICAqIEJvb2xlYW4gdGhhdCBpdCBpcyB0cnVlIGlmIHRoZSBtb2RhbCBnYWxsZXJ5IGlzIHZpc2libGUuIEZhbHNlIGJ5IGRlZmF1bHQuXG4gICAgICovXG4gICAgb3BlbmVkOiBib29sZWFuO1xuICAgIC8qKlxuICAgICAqIEJvb2xlYW4gdG8gb3BlbiB0aGUgbW9kYWwgZ2FsbGVyeS4gRmFsc2UgYnkgZGVmYXVsdC5cbiAgICAgKi9cbiAgICBzaG93R2FsbGVyeTogYm9vbGVhbjtcbiAgICAvKipcbiAgICAgKiBBcnJheSBvZiBgSW50ZXJuYWxMaWJJbWFnZWAgcmVwcmVzZW50aW5nIHRoZSBtb2RlbCBvZiB0aGlzIGxpYnJhcnkgd2l0aCBhbGwgaW1hZ2VzLCB0aHVtYnMgYW5kIHNvIG9uLlxuICAgICAqL1xuICAgIGltYWdlczogSW50ZXJuYWxMaWJJbWFnZVtdO1xuICAgIC8qKlxuICAgICAqIGBJbWFnZWAgdGhhdCBpcyB2aXNpYmxlIHJpZ2h0IG5vdy5cbiAgICAgKi9cbiAgICBjdXJyZW50SW1hZ2U6IEludGVybmFsTGliSW1hZ2U7XG4gICAgcHJpdmF0ZSBnYWxsZXJ5U2VydmljZVN1YnNjcmlwdGlvbjtcbiAgICAvKipcbiAgICAgKiBDb25zdHJ1Y3RvciB3aXRoIHRoZSBpbmplY3Rpb24gb2YgwrRLZXlib2FyZFNlcnZpY2XCtCBhbmQgYW4gb2JqZWN0IHRvIHN1cHBvcnQgU2VydmVyLVNpZGUgUmVuZGVyaW5nLlxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKGtleWJvYXJkU2VydmljZTogS2V5Ym9hcmRTZXJ2aWNlLCBnYWxsZXJ5U2VydmljZTogR2FsbGVyeVNlcnZpY2UsIHBsYXRmb3JtSWQ6IE9iamVjdCwgY2hhbmdlRGV0ZWN0b3JSZWY6IENoYW5nZURldGVjdG9yUmVmKTtcbiAgICAvKipcbiAgICAgKiBNZXRob2QgwrRuZ09uSW5pdMK0IHRvIGluaXQgaW1hZ2VzIGNhbGxpbmcgYGluaXRJbWFnZXMoKWAuXG4gICAgICogVGhpcyBpcyBhbiBBbmd1bGFyJ3MgbGlmZWN5Y2xlIGhvb2ssIHNvIGl0cyBjYWxsZWQgYXV0b21hdGljYWxseSBieSBBbmd1bGFyIGl0c2VsZi5cbiAgICAgKiBJbiBwYXJ0aWN1bGFyLCBpdCdzIGNhbGxlZCBvbmx5IG9uZSB0aW1lISEhXG4gICAgICovXG4gICAgbmdPbkluaXQoKTogdm9pZDtcbiAgICAvKipcbiAgICAgKiBNZXRob2QgwrRuZ09uQ2hhbmdlc8K0IHRvIHJlLWluaXQgaW1hZ2VzIGlmIGlucHV0IGlzIGNoYW5nZWQuXG4gICAgICogVGhpcyBpcyBhbiBBbmd1bGFyJ3MgbGlmZWN5Y2xlIGhvb2ssIHNvIGl0cyBjYWxsZWQgYXV0b21hdGljYWxseSBieSBBbmd1bGFyIGl0c2VsZi5cbiAgICAgKiBJbiBwYXJ0aWN1bGFyLCBpdCdzIGNhbGxlZCBiZWZvcmUgYG5nT25Jbml0KClgIGFuZCB3aGVuZXZlciBvbmUgb3IgbW9yZSBkYXRhLWJvdW5kIGlucHV0IHByb3BlcnRpZXMgY2hhbmdlLlxuICAgICAqIEBwYXJhbSBjaGFuZ2VzIGBTaW1wbGVDaGFuZ2VzYCBvYmplY3Qgb2YgY3VycmVudCBhbmQgcHJldmlvdXMgcHJvcGVydHkgdmFsdWVzIHByb3ZpZGVkIGJ5IEFuZ3VsYXIuXG4gICAgICovXG4gICAgbmdPbkNoYW5nZXMoY2hhbmdlczogU2ltcGxlQ2hhbmdlcyk6IHZvaWQ7XG4gICAgLyoqXG4gICAgICogTWV0aG9kIGNhbGxlZCBieSBjdXN0b20gdXBwZXIgYnV0dG9ucy5cbiAgICAgKiBAcGFyYW0ge0J1dHRvbkV2ZW50fSBldmVudCBwYXlsb2FkXG4gICAgICovXG4gICAgb25DdXN0b21FbWl0KGV2ZW50OiBCdXR0b25FdmVudCk6IHZvaWQ7XG4gICAgLyoqXG4gICAgICogTWV0aG9kIGNhbGxlZCBieSB0aGUgZGVsZXRlIHVwcGVyIGJ1dHRvbi5cbiAgICAgKiBAcGFyYW0ge0J1dHRvbkV2ZW50fSBldmVudCBwYXlsb2FkXG4gICAgICovXG4gICAgb25EZWxldGUoZXZlbnQ6IEJ1dHRvbkV2ZW50KTogdm9pZDtcbiAgICAvKipcbiAgICAgKiBNZXRob2QgY2FsbGVkIGJ5IHRoZSBuYXZpZ2F0ZSB1cHBlciBidXR0b24uXG4gICAgICogQHBhcmFtIHtCdXR0b25FdmVudH0gZXZlbnQgcGF5bG9hZFxuICAgICAqL1xuICAgIG9uTmF2aWdhdGUoZXZlbnQ6IEJ1dHRvbkV2ZW50KTogdm9pZDtcbiAgICAvKipcbiAgICAgKiBNZXRob2QgY2FsbGVkIGJ5IHRoZSBkb3dubG9hZCB1cHBlciBidXR0b24uXG4gICAgICogQHBhcmFtIHtCdXR0b25FdmVudH0gZXZlbnQgcGF5bG9hZFxuICAgICAqL1xuICAgIG9uRG93bmxvYWQoZXZlbnQ6IEJ1dHRvbkV2ZW50KTogdm9pZDtcbiAgICAvKipcbiAgICAgKiBNZXRob2QgY2FsbGVkIGJ5IHRoZSBjbG9zZSB1cHBlciBidXR0b24uXG4gICAgICogQHBhcmFtIHtCdXR0b25FdmVudH0gZXZlbnQgcGF5bG9hZFxuICAgICAqIEBwYXJhbSB7QWN0aW9ufSBhY3Rpb24gdGhhdCB0cmlnZ2VyZWQgdGhlIGNsb3NlIG1ldGhvZC4gYEFjdGlvbi5OT1JNQUxgIGJ5IGRlZmF1bHRcbiAgICAgKi9cbiAgICBvbkNsb3NlR2FsbGVyeShldmVudDogQnV0dG9uRXZlbnQsIGFjdGlvbj86IEFjdGlvbik6IHZvaWQ7XG4gICAgLyoqXG4gICAgICogTWV0aG9kIHRvIGNsb3NlIHRoZSBtb2RhbCBnYWxsZXJ5IHNwZWNpZnlpbmcgdGhlIGFjdGlvbi5cbiAgICAgKiBJdCBhbHNvIHJlc2V0IHRoZSBga2V5Ym9hcmRTZXJ2aWNlYCB0byBwcmV2ZW50IG11bHRpcGxlIGxpc3RlbmVycy5cbiAgICAgKiBAcGFyYW0ge0FjdGlvbn0gYWN0aW9uIHR5cGUuIGBBY3Rpb24uTk9STUFMYCBieSBkZWZhdWx0XG4gICAgICovXG4gICAgY2xvc2VHYWxsZXJ5KGFjdGlvbj86IEFjdGlvbik6IHZvaWQ7XG4gICAgLyoqXG4gICAgICogTWV0aG9kIGNhbGxlZCB3aGVuIHlvdSBjbGljayBvbiBhbiBpbWFnZSBvZiB5b3VyIHBsYWluIChvciBpbmxpbmUpIGdhbGxlcnkuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGluZGV4IG9mIHRoZSBjbGlja2VkIGltYWdlXG4gICAgICovXG4gICAgb25TaG93TW9kYWxHYWxsZXJ5KGluZGV4OiBudW1iZXIpOiB2b2lkO1xuICAgIC8qKlxuICAgICAqIE1ldGhvZCB0byBzaG93IHRoZSBtb2RhbCBnYWxsZXJ5IGRpc3BsYXlpbmcgdGhlIGltYWdlIHdpdGhcbiAgICAgKiB0aGUgaW5kZXggc3BlY2lmaWVkIGFzIGlucHV0IHBhcmFtZXRlci5cbiAgICAgKiBJdCB3aWxsIGFsc28gcmVnaXN0ZXIgYSBuZXcgYGtleWJvYXJkU2VydmljZWAgdG8gY2F0Y2gga2V5Ym9hcmQncyBldmVudHMgdG8gZG93bmxvYWQgdGhlIGN1cnJlbnRcbiAgICAgKiBpbWFnZSB3aXRoIGtleWJvYXJkJ3Mgc2hvcnRjdXRzLiBUaGlzIHNlcnZpY2UsIHdpbGwgYmUgcmVtb3ZlZCBlaXRoZXIgd2hlbiBtb2RhbCBnYWxsZXJ5IGNvbXBvbmVudFxuICAgICAqIHdpbGwgYmUgZGVzdHJveWVkIG9yIHdoZW4gdGhlIGdhbGxlcnkgaXMgY2xvc2VkIGludm9raW5nIHRoZSBgY2xvc2VHYWxsZXJ5YCBtZXRob2QuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGluZGV4IG9mIHRoZSBpbWFnZSB0byBzaG93XG4gICAgICogQHBhcmFtIHtib29sZWFufSBpc0NhbGxlZEJ5U2VydmljZSBpcyB0cnVlIGlmIGNhbGxlZCBieSBnYWxsZXJ5LnNlcnZpY2UsIG90aGVyd2lzZSBmYWxzZVxuICAgICAqL1xuICAgIHNob3dNb2RhbEdhbGxlcnkoaW5kZXg6IG51bWJlciwgaXNDYWxsZWRCeVNlcnZpY2U/OiBib29sZWFuKTogdm9pZDtcbiAgICAvKipcbiAgICAgKiBNZXRob2QgY2FsbGVkIHdoZW4gdGhlIGltYWdlIGNoYW5nZXMgYW5kIHVzZWQgdG8gdXBkYXRlIHRoZSBgY3VycmVudEltYWdlYCBvYmplY3QuXG4gICAgICogQHBhcmFtIHtJbWFnZU1vZGFsRXZlbnR9IGV2ZW50IHBheWxvYWRcbiAgICAgKi9cbiAgICBvbkNoYW5nZUN1cnJlbnRJbWFnZShldmVudDogSW1hZ2VNb2RhbEV2ZW50KTogdm9pZDtcbiAgICBpc1BsYWluR2FsbGVyeVZpc2libGUoKTogYm9vbGVhbjtcbiAgICAvKipcbiAgICAgKiBNZXRob2QgY2FsbGVkIHdoZW4geW91IGNsaWNrICdvdXRzaWRlJyAoaS5lLiBvbiB0aGUgc2VtaS10cmFuc3BhcmVudCBiYWNrZ3JvdW5kKVxuICAgICAqIHRvIGNsb3NlIHRoZSBtb2RhbCBnYWxsZXJ5IGlmIGBlbmFibGVDbG9zZU91dHNpZGVgIGlzIHRydWUuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBldmVudCBwYXlsb2FkLiBUcnVlIHRvIGNsb3NlIHRoZSBtb2RhbCBnYWxsZXJ5LCBmYWxzZSBvdGhlcndpc2VcbiAgICAgKi9cbiAgICBvbkNsaWNrT3V0c2lkZShldmVudDogYm9vbGVhbik6IHZvaWQ7XG4gICAgLyoqXG4gICAgICogTWV0aG9kIGNhbGxlZCB3aGVuIGFuIGltYWdlIGlzIGxvYWRlZCBhbmQgdGhlIGxvYWRpbmcgc3Bpbm5lciBoYXMgZ29uZS5cbiAgICAgKiBJdCBzZXRzIHRoZSBwcmV2aW91c2x5TG9hZGVkIGZsYWcgaW5zaWRlIHRoZSBJbWFnZSB0byBoaWRlIGxvYWRpbmcgc3Bpbm5lciB3aGVuIGRpc3BsYXllZCBhZ2Fpbi5cbiAgICAgKiBAcGFyYW0ge0ltYWdlTG9hZEV2ZW50fSBldmVudCBwYXlsb2FkXG4gICAgICovXG4gICAgb25JbWFnZUxvYWQoZXZlbnQ6IEltYWdlTG9hZEV2ZW50KTogdm9pZDtcbiAgICAvKipcbiAgICAgKiBNZXRob2QgY2FsbGVkIHdoZW4gYSBkb3QgaXMgY2xpY2tlZCBhbmQgdXNlZCB0byB1cGRhdGUgdGhlIGN1cnJlbnQgaW1hZ2UuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGluZGV4IG9mIHRoZSBjbGlja2VkIGRvdFxuICAgICAqL1xuICAgIG9uQ2xpY2tEb3QoaW5kZXg6IG51bWJlcik6IHZvaWQ7XG4gICAgLyoqXG4gICAgICogTWV0aG9kIGNhbGxlZCB3aGVuIGFuIGltYWdlIHByZXZpZXcgaXMgY2xpY2tlZCBhbmQgdXNlZCB0byB1cGRhdGUgdGhlIGN1cnJlbnQgaW1hZ2UuXG4gICAgICogQHBhcmFtIHtJbWFnZX0gcHJldmlldyBpbWFnZVxuICAgICAqL1xuICAgIG9uQ2xpY2tQcmV2aWV3KHByZXZpZXc6IEltYWdlKTogdm9pZDtcbiAgICAvKipcbiAgICAgKiBNZXRob2QgdG8gZG93bmxvYWQgdGhlIGN1cnJlbnQgaW1hZ2UsIG9ubHkgaWYgYGRvd25sb2FkYWJsZWAgaXMgdHJ1ZS5cbiAgICAgKiBJdCBjb250YWlucyBhbHNvIGEgbG9naWMgdG8gZW5hYmxlIGRvd25sb2FkaW5nIGZlYXR1cmVzIGFsc28gZm9yIElFMTEuXG4gICAgICovXG4gICAgZG93bmxvYWRJbWFnZSgpOiB2b2lkO1xuICAgIC8qKlxuICAgICAqIE1ldGhvZCB0byBjbGVhbnVwIHJlc291cmNlcy4gSW4gZmFjdCwgdGhpcyB3aWxsIHJlc2V0IGtleWJvYXJkJ3Mgc2VydmljZS5cbiAgICAgKiBUaGlzIGlzIGFuIEFuZ3VsYXIncyBsaWZlY3ljbGUgaG9vayB0aGF0IGlzIGNhbGxlZCB3aGVuIHRoaXMgY29tcG9uZW50IGlzIGRlc3Ryb3llZC5cbiAgICAgKi9cbiAgICBuZ09uRGVzdHJveSgpOiB2b2lkO1xuICAgIC8qKlxuICAgICAqIFByaXZhdGUgbWV0aG9kIHRvIGRvd25sb2FkIHRoZSBjdXJyZW50IGltYWdlIGZvciBhbGwgYnJvd3NlcnMgZXhjZXB0IGZvciBJRTExLlxuICAgICAqL1xuICAgIHByaXZhdGUgZG93bmxvYWRJbWFnZUFsbEJyb3dzZXJzKCk7XG4gICAgLyoqXG4gICAgICogUHJpdmF0ZSBtZXRob2QgdG8gZG93bmxvYWQgdGhlIGN1cnJlbnQgaW1hZ2Ugb25seSBmb3IgSUUxMSB1c2luZ1xuICAgICAqIGN1c3RvbSBqYXZhc2NyaXB0J3MgbWV0aG9kcyBhdmFpbGFibGUgb25seSBvbiBJRS5cbiAgICAgKi9cbiAgICBwcml2YXRlIGRvd25sb2FkSW1hZ2VPbmx5SUVvckVkZ2UoKTtcbiAgICAvKipcbiAgICAgKiBQcml2YXRlIG1ldGhvZCB0byBnZXQgdGhlIGBCdXR0b25FdmVudGAgdG8gZW1pdCwgbWVyZ2luZyB0aGUgaW5wdXQgYEJ1dHRvbkV2ZW50YFxuICAgICAqIHdpdGggdGhlIGN1cnJlbnQgaW1hZ2UuXG4gICAgICogQHBhcmFtIHtCdXR0b25FdmVudH0gZXZlbnQgcGF5bG9hZCB0byByZXR1cm5cbiAgICAgKiBAcmV0dXJucyB7QnV0dG9uRXZlbnR9IGV2ZW50IHBheWxvYWQgd2l0aCB0aGUgY3VycmVudCBpbWFnZSBpbmNsdWRlZFxuICAgICAqL1xuICAgIHByaXZhdGUgZ2V0QnV0dG9uRXZlbnRUb0VtaXQoZXZlbnQpO1xuICAgIC8qKlxuICAgICAqIFByaXZhdGUgbWV0aG9kIHRvIGdldCB0aGUgZmlsZW5hbWUgZnJvbSBhbiBpbnB1dCBwYXRoLlxuICAgICAqIFRoaXMgaXMgdXNlZCB0byBnZXQgdGhlIGltYWdlJ3MgbmFtZSBmcm9tIGl0cyBwYXRoLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBwYXRoIHRoYXQgcmVwcmVzZW50cyB0aGUgcGF0aCBvZiB0aGUgaW1hZ2VcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBzdHJpbmcgZmlsZW5hbWUgZnJvbSB0aGUgaW5wdXQgcGF0aFxuICAgICAqL1xuICAgIHByaXZhdGUgZ2V0RmlsZU5hbWUocGF0aCk7XG4gICAgLyoqXG4gICAgICogUHJpdmF0ZSBtZXRob2QgdG8gaW5pdGlhbGl6ZSBgaW1hZ2VzYCBhcyBhcnJheSBvZiBgSW1hZ2Vgcy5cbiAgICAgKiBBbHNvLCBpdCB3aWxsIGVtaXQgSW1hZ2Vvd21vZGFNb2RhbEV2ZW50IHRvIHNheSB0aGF0IGltYWdlcyBhcmUgbG9hZGVkLlxuICAgICAqL1xuICAgIHByaXZhdGUgaW5pdEltYWdlcygpO1xuICAgIC8qKlxuICAgICAqIFByaXZhdGUgbWV0aG9kIHRvIGVtaXQgZXZlbnRzIHdoZW4gZWl0aGVyIHRoZSBsYXN0IG9yIHRoZSBmaXJzdCBpbWFnZSBhcmUgdmlzaWJsZS5cbiAgICAgKiBAcGFyYW0gYWN0aW9uIEVudW0gb2YgdHlwZSBBY3Rpb24gdGhhdCByZXByZXNlbnRzIHRoZSBzb3VyY2Ugb2YgdGhlIGV2ZW50IHRoYXQgY2hhbmdlZCB0aGVcbiAgICAgKiAgY3VycmVudCBpbWFnZSB0byB0aGUgZmlyc3Qgb25lIG9yIHRoZSBsYXN0IG9uZS5cbiAgICAgKiBAcGFyYW0gaW5kZXhUb0NoZWNrIGlzIHRoZSBpbmRleCBudW1iZXIgb2YgdGhlIGltYWdlICh0aGUgZmlyc3Qgb3IgdGhlIGxhc3Qgb25lKS5cbiAgICAgKi9cbiAgICBwcml2YXRlIGVtaXRCb3VuZGFyeUV2ZW50KGFjdGlvbiwgaW5kZXhUb0NoZWNrKTtcbiAgICAvKipcbiAgICAgKiBQcml2YXRlIG1ldGhvZCB0byBjaGVjayBpZiB0aGlzIGxpYnJhcnkgaXMgcnVubmluZyBvblxuICAgICAqIE1pY3Jvc29mdCBicm93c2VycyBvciBub3QgKGkuZS4gaXQgZGV0ZWN0cyBib3RoIElFMTEgYW5kIEVkZ2UpXG4gICAgICogc3VwcG9ydGluZyBhbHNvIFNlcnZlci1TaWRlIFJlbmRlcmluZy5cbiAgICAgKiBJbnNwaXJlZCBieSBodHRwczovL21zZG4ubWljcm9zb2Z0LmNvbS9pdC1pdC9saWJyYXJ5L2hoNzc5MDE2KHY9dnMuODUpLmFzcHhcbiAgICAgKiBAcmV0dXJucyB7YW55fSB0aGUgcmVzdWx0XG4gICAgICovXG4gICAgcHJpdmF0ZSBpc0lFb3JFZGdlKCk7XG59XG4iXX0=